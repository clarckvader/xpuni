# ── Servidor ──────────────────────────────────────────────────────────────────
PORT=3000
NODE_ENV=development

# ── JWT ───────────────────────────────────────────────────────────────────────
# Genera uno con: node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
JWT_SECRET=cambia_esto_por_un_secreto_muy_largo_y_aleatorio

# ── Cifrado de claves Stellar ──────────────────────────────────────────────────
# Debe ser exactamente 32 bytes en hex (64 caracteres hex)
# Genera uno con: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
ENCRYPTION_KEY=cambia_esto_por_64_caracteres_hexadecimales_aleatorios_00000000000

# ── Stellar ───────────────────────────────────────────────────────────────────
# Red: testnet o mainnet
STELLAR_NETWORK=testnet

# Endpoint RPC de Soroban (testnet)
STELLAR_RPC_URL=https://soroban-testnet.stellar.org

# Passphrase de la red
STELLAR_NETWORK_PASSPHRASE=Test SDF Network ; September 2015

# Keypair del admin del sistema (quien despliega y controla el contrato)
# Genera uno nuevo con: stellar keys generate admin --network testnet
# O con el SDK: node -e "const s=require('@stellar/stellar-sdk'); const kp=s.Keypair.random(); console.log('PUBLIC:', kp.publicKey()); console.log('SECRET:', kp.secret())"
STELLAR_ADMIN_PUBLIC_KEY=G...
STELLAR_ADMIN_SECRET_KEY=S...

# ID del contrato school_points después de desplegarlo
# Despliega con: make deploy-points  (ver Makefile en la raíz)
# Inicializa con: make init-points POINTS_CONTRACT_ID=C... ADMIN_PUBLIC_KEY=G...
STELLAR_CONTRACT_ID=

# ID del contrato achievement_badges después de desplegarlo
# Despliega con: make deploy-badges
# Inicializa con: make init-badges BADGES_CONTRACT_ID=C... ADMIN_PUBLIC_KEY=G...
STELLAR_BADGE_CONTRACT_ID=

# ID del contrato redemption_records después de desplegarlo
# Despliega con: make deploy-redemptions
# Inicializa con: make init-redemptions REDEMPTION_CONTRACT_ID=C... ADMIN_PUBLIC_KEY=G...
# Si está vacío, los canjes NO se registran on-chain (el burn de puntos sí ocurre igual)
STELLAR_REDEMPTION_CONTRACT_ID=

# ── Archivos ──────────────────────────────────────────────────────────────────
# En desarrollo: los archivos se guardan en ./uploads/
# En producción: configura S3_BUCKET_NAME y las credenciales de AWS
UPLOADS_DIR=./uploads
UPLOADS_BASE_URL=http://localhost:3000

# ── Base de datos ─────────────────────────────────────────────────────────────
DATABASE_PATH=./school.db

# ── Admin inicial ─────────────────────────────────────────────────────────────
# Credenciales del primer admin que se crea al iniciar el servidor
INITIAL_ADMIN_EMAIL=admin@universidad.edu
INITIAL_ADMIN_PASSWORD=admin123
